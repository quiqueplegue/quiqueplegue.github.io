<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<style>
        body {
            font-family: sans-serif;
        }
        #totalTabla {
            font-weight: bold;
            color:#174000;
        }
        .npistas {
            text-align: center;
        }
    </style>

	<title>Ejercicio Tema 2: jQuery</title>
</head>
<body>
	<h1>Esta página demuestra que empiezo a llevarme bien con jQuery</h1>
	<h2>Pero seguro que podría mejorar</h2>

	<table title="circuitoJerez" border bgcolor="#FF5522">
	<thead><tr><th>Tipo Pieza</th><th>Número pistas</th></tr></thead>
	<tbody>
		<tr>
			<td>Rectas largas</td>
			<td><input class="npistas" type="text" name="npistas"/></td>
		</tr>
		<tr>
			<td>Rectas medias</td>
			<td><input class="npistas" type="text" name="npistas"/></td>
		</tr>
		<tr>
			<td>Curvas medias</td>
			<td><input class="npistas" type="text" name="npistas"/></td>
		</tr>
		<tr>
			<td>Curvas 30º</td>
			<td><input class="npistas" type="text" name="npistas"/></td>
		</tr>
		<tr>
			<td>Chicanes</td>
			<td><input class="npistas" type="text" name="npistas"/></td>
		</tr>
	</tbody>
	<tfoot> 
		<tr class="totalTabla">
			<td>Total: </td>
			<td align="center"><span id="sumaTotal">0</span></td>
		</tr> 
	</tfoot>
	</table>

	<script type='text/javascript'>
	$(document).ready(function() {
		var suma = 0;
		$('.npistas').each(function(){
			$(this).keyup(function(){ // Activo evento al soltar una tecla pulsada
				computaSuma();
			});
		});
	});


	function computaSuma(){
		var suma=0;
		$(".npistas").each(function(){
			if(!isNaN(this.value)){
				suma += parseInt(this.value);
			}
		});
		$("#sumaTotal").html(suma);
		$("#total").html(suma);
	}

	</script>

	<br>
	<p>Total recibido: </p>
	<div id='total'></div>
	<br>

	<h3>Probando funcionalidad de eventos en botones</h3> <br>
	Campo origen: <input type="text" id="origenTexto" value="Solo sé que no sé nada"><br>
	Campo destino: <input type="text" id="destinoTexto" font-color="red"><br><br>

	<button onclick="funcionCopiaTxt()">Copia el texto</button>

	<script>
	function funcionCopiaTxt() {
		document.getElementById("destinoTexto").value = document.getElementById("origenTexto").value;
	}
	</script>


</body>
</html>
